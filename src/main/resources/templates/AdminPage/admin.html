<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/Other/html.html to edit this template
-->
<html xmlns:th="https://www.thymeleaf.org/">

<head>
    <title>TODO supply a title</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/b42e1089e2.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../../static/css/mycss.css">
    <div th:insert="Config/config :: link"></div>


</head>

<body>
    <div class="row gx-0">
        <nav class="vh-100 col-2 p-3">
            <div class="d-flex">
                <div>
                    <i class="fa-solid fa-house"></i>
                </div>
                <div class="">
                    PlaPor
                </div>
            </div>
            <div class="vstack gap-2">
                <div class="item-nav item-nav-selected">
                    <div class="">
                        <i class="fa-solid fa-chart-pie"></i>
                    </div>
                    <div class="fw-bold d-flex">
                        Dashboard
                    </div>
                </div>
                <div class="item-nav">
                    <div class="">
                        <i class="fa-solid fa-shop"></i>
                    </div>
                    <div class="fw-bold d-flex">
                        Caterer
                    </div>
                </div>
                <div class="item-nav">
                    <div class="">
                        <i class="fa-solid fa-ranking-star"></i>
                    </div>
                    <div class="fw-bold d-flex">
                        Caterer rank
                    </div>
                </div>
                <div class="item-nav">
                    <div class="">
                        <i class="fa-solid fa-user"></i>
                    </div>
                    <div class="fw-bold d-flex">
                        Customer
                    </div>
                </div>
                <div class="item-nav">
                    <div class="">
                        <i class="fa-solid fa-comments"></i>
                    </div>
                    <div class="fw-bold d-flex">
                        Feedback
                    </div>
                </div>
            </div>
        </nav>
        <div class="vh-100 bg-light col-10">
            <header class="bg-white d-flex px-4 py-1 justify-content-between align-items-center">
                <div class="fs-4 fw-bold">Dashboard</div>
                <div class=" d-flex align-items-center">
                    <i class="fa-regular fa-bell p-3"></i>
                    <i class="fa-solid fa-circle-user fs-4"></i>
                </div>
            </header>
            <div class="m-3">
                <div class="vstack gap-3">
                    <div class="d-flex justify-content-between">
                        <div class="bg-white rounded px-3 py-2" style="width: 65%;">
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="vstack">
                                    <div class="fw-bold">Today's Sales</div>
                                    <div class="fs-7">Sales Summary</div>
                                </div>
                                <div>
                                    Export
                                </div>
                            </div>
                            <div class="d-flex justify-content-between mt-3">
                                <div class="rounded p-3" style="width: 23%; background-color: #FFE2E6;">
                                    <div class="vstack">
                                        <div class="d-flex align-items-center justify-content-around rounded-circle"
                                            style="width: 34px; height: 34px; background-color: #FA5A7E;">
                                            <i class="fs-7 fa-solid fa-hand-holding-dollar text-white"></i>
                                        </div>
                                        <!--                                        <div class="fs-4 fw-bold"
                                            th:text="${#numbers.formatDecimal(1000000, 0, 'COMMA', 0, 'POINT')}">
                                        </div>-->
                                        <div class="fs-5 fw-bold">
                                            1.000.000
                                        </div>
                                        <div class="">
                                            Today Revenue
                                        </div>
                                        <div class="fs-7 text-danger">
                                            +치dadasdad
                                        </div>
                                    </div>
                                </div>
                                <div class="rounded p-3" style="width: 23%; background-color: #FFF4DE;">
                                    <div class="vstack">
                                        <div class="d-flex align-items-center justify-content-around rounded-circle"
                                            style="width: 34px; height: 34px; background-color: #FF947A;">
                                            <i class="fs-7 fa-solid fa-file-contract text-white"></i>
                                        </div>
                                        <div class="fs-5 fw-bold">
                                            20
                                        </div>
                                        <div class="">
                                            Total Order
                                        </div>
                                        <div class="fs-7 text-danger">
                                            +치dadasdad
                                        </div>
                                    </div>
                                </div>
                                <div class="rounded p-3" style="width: 23%; background-color: #DCFCE7;">
                                    <div class="vstack">
                                        <div class="d-flex align-items-center justify-content-around rounded-circle"
                                            style="width: 34px; height: 34px; background-color: #3CD755;">
                                            <i class="fs-7 fa-regular fa-bell text-white"></i>
                                        </div>
                                        <div class="fs-5 fw-bold">
                                            10
                                        </div>
                                        <div class="">
                                            New Caterer
                                        </div>
                                        <div class="fs-7 text-danger">
                                            +치dadasdad
                                        </div>
                                    </div>
                                </div>
                                <div class="rounded p-3" style="width: 23%; background-color: #F4E8FF;">
                                    <div class="vstack">
                                        <div class="d-flex align-items-center justify-content-around rounded-circle"
                                            style="width: 34px; height: 34px; background-color: #BF83FF;">
                                            <i class="fs-7 fa-solid fa-user-plus text-white"></i>
                                        </div>
                                        <div class="fs-5 fw-bold">
                                            10
                                        </div>
                                        <div class="">
                                            New Customer
                                        </div>
                                        <div class="fs-7 text-danger">
                                            +치dadasdad
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded px-3 py-2" style="width: 33%;">
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="fw-bold">
                                    New Account
                                </div>
                                <select id="lineChartAdmin" class="form-select fs-7" style="width: 40%;">
                                    <option class="fs-7" value="Day">By Day</option>
                                    <option class="fs-7" value="Month">By Month</option>
                                    <option class="fs-7" value="Year">By Year</option>
                                </select>
                            </div>
                            <div class="pt-3">
                                <canvas id="myChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <div class="d-flex justify-content-between">
                        <div class="bg-white rounded" style="width: 31%;">
                            <div>
                                <canvas id="myChart2"></canvas>
                            </div>
                        </div>
                        <div class="bg-white rounded px-3 py-2" style="width: 67%;">
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="fw-bold">
                                    Revenue Report
                                </div>
                                <select id="barChartAdmin" class="form-select fs-7" style="width: 20%;">
                                    <option class="fs-7" value="Day">By Day</option>
                                    <option class="fs-7" value="Month">By Month</option>
                                    <option class="fs-7" value="Year">By Year</option>
                                </select>
                            </div>

                            <div class="pt-4">
                                <canvas id="myChart3"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $('#lineChartAdmin').change(function () {
                var selectedValue = $(this).val();
                $.ajax({
                    type: 'GET',
                    url: '/admin/lineChart',
                    data: { selectedValue: selectedValue },
                    success: function (response) {
                        if (!lineChart) {
                            initLineChart(response.labels, response.data)
                        }
                        else {
                            updateLineChart(response.labels, response.data)
                        }
                    }
                });
            });

            $("#lineChartAdmin").trigger("change")

            $.ajax({
                type: 'GET',
                url: '/admin/polarAreaChart',
                success: function (response) {
                    initPolarAreaChart(response)
                }
            });

            $('#barChartAdmin').change(function () {
                var selectedValue = $(this).val();
                $.ajax({
                    type: 'GET',
                    url: '/admin/barChart',
                    data: { selectedValue: selectedValue },
                    success: function (response) {
                        if (!barChart) {
                            initBarChart(response.labels, response.datasets)
                        }
                        else {
                            updateBarChart(response.labels, response.datasets)
                        }
                    }
                });
            });
            $("#barChartAdmin").trigger("change")
        });
        const ctx = document.getElementById('myChart');
        var lineChart
        function initLineChart(labels, data) {
            lineChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        data: data,
                        fill: false,
                        borderColor: 'rgb(75, 192, 192)',
                        tension: 0.1
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    },
                    plugins: {

                        legend: {
                            display: false
                        },
                    },
                    responsive: true
                }
            });
        }
        function updateLineChart(labels, data) {
            lineChart.data.labels = labels
            lineChart.data.datasets[0].data = data
            lineChart.update()
        }
        const ctx2 = document.getElementById('myChart2');
        var polarAreaChart
        function initPolarAreaChart(data) {
            polarAreaChart = new Chart(ctx2, {
                type: 'polarArea',
                data: {
                    labels: ["Advertise", "Rank", "Commission"],
                    datasets: [{
                        data: data,
                        label: '',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        title: {
                            display: true,
                            text: "Today Revenue Details"
                        }
                    },
                    scales: {

                    }
                }
            });
        }

        const ctx3 = document.getElementById('myChart3');
        var barChart
        function initBarChart(labels, datasets) {
            barChart = new Chart(ctx3, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: datasets
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    },
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                    },
                    aspectRatio: 1 | 2
                }
            });
        }
        function updateBarChart(labels, datasets) {
            barChart.data.labels = labels
            barChart.data.datasets = datasets
            barChart.update()
        }
    </script>
</body>

</html>