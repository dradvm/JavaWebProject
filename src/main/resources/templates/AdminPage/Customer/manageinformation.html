<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org/" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="@{../templates/AdminPage/admin}">

<head>
</head>

<body>
    <div layout:fragment="contentAdminPage">
        <link rel="stylesheet" th:href="@{/lib/datatable/datatables.min.css}" />
        <a href="/admin/toManageinformationCustomer" class="btn btn-success">Manage information</a>
        <a href="/admin/toHandlereportsCustomer" class="btn btn-success">Handle reports</a>
        <a href="/admin/toStatisticalreportCustomer" class="btn btn-success">Statistical reports</a>
        <table id="customer-list" class="table table-striped">
            <thead>
                <tr>
                    <th>Email</th>
                    <th>Full name</th>
                    <th>Gender</th>
                    <th>Point</th>
                    <th>Roll chance</th>
                    <th>Phone</th>
                    <th>Address</th>
                    <th>Create date</th>
                    <th>Active</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="customer : ${customerList}">
                    <td th:text="${customer.customerEmail}"></td>
                    <td th:text="${customer.fullName}"></td>
                    <td th:text="${customer.gender == 0 ? 'Male' : 'Female'}"></td>
                    <td th:text="${customer.point}"></td>
                    <td th:text="${customer.rollChance}"></td>
                    <td th:text="${customer.phone}"></td>
                    <td
                        th:text="${customer.address + ', ' + customer.districtID.districtName + ', ' + customer.districtID.cityID.cityName}">
                    </td>
                    <td th:text="${#dates.format(customer.createDate, 'dd-MM-yyyy')}"></td>
                    <td th:text="${customer.active == 1 ? 'Active' : 'Suspended'}"></td>
                    <td>
                        <a th:href="@{/admin/toEditinformationCustomer(email=${customer.customerEmail})}">
                            <button class="btn btn-primary text-white">Edit</button>
                        </a>
                        <a th:href="@{/admin/changeCustomerActive(email=${customer.customerEmail})}">
                            <button th:text="${customer.active == 1 ? 'Suspend' : 'Unsuspend'}"
                                class="btn btn-danger text-white"></button>
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
        <script th:src="@{/lib/datatable/datatables.min.js}"></script>
        <script th:src="@{/js/manageinformationcustomer.js}"></script>
    </div>
</body>

</html>